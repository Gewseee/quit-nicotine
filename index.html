<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quit Nicotine</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background-color: #f0f0f0; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); position: relative; }
        input, select { padding: 10px; width: 200px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; }
        button { padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background-color: #45a049; }
        .hidden { display: none; }
        h1, h2 { color: #333; margin: 10px 0; }
        p { color: #666; margin: 5px 0; }
        #tips-section p { text-align: left; }
        .frozen-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.5); backdrop-filter: blur(5px); display: flex; align-items: center; justify-content: center; z-index: 10; border-radius: 10px; }
        .frozen-overlay p { font-size: 24px; color: #333; background: rgba(255, 255, 255, 0.8); padding: 20px; border-radius: 8px; }
        #plan-info { margin-bottom: 15px; }
        #plan-actions { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Бросаем никотин</h1>

        <div id="login-section">
            <p>Введи свой binId (или создай новый на jsonbin.io):</p>
            <input type="text" id="sync-code" placeholder="Например: 67d00b9a8960c979a56f74c4">
            <button onclick="login()">Войти</button>
            <p>Запомни binId для входа с других устройств!</p>
        </div>

        <div id="vape-form" class="hidden">
            <h2 id="form-title">Расскажи о своей привычке</h2>
            <p>Через сколько времени тебе хочется парить?</p>
            <select id="vape-frequency">
                <option value="360">Очень редко (раз в 6+ часов)</option>
                <option value="240">Не часто (раз в 3-5 часов)</option>
                <option value="90">Средне (раз в 1-2 часа)</option>
                <option value="45">Часто (раз в 30-60 минут)</option>
                <option value="20">Очень часто (раз в 15-30 минут)</option>
                <option value="10">Почти всегда (раз в 5-15 минут)</option>
            </select>
            <p>Сколько примерно минут длится сеанс?</p>
            <select id="vape-duration">
                <option value="1">1 минута</option>
                <option value="2">2 минуты</option>
                <option value="3">3 минуты</option>
                <option value="5">5 минут</option>
                <option value="7">7 минут</option>
                <option value="10">10 минут</option>
                <option value="15">15 минут</option>
            </select>
            <p>Когда начинаешь?</p>
            <input type="date" id="start-date">
            <p>Когда хочешь бросить?</p>
            <input type="date" id="end-date">
            <button id="submit-plan" onclick="createPlan()">Создать план</button>
        </div>

        <div id="plan-section" class="hidden">
            <h2>Твой план</h2>
            <div id="plan-info">
                <p>Следующее парение через: <span id="next-vape">X минут</span></p>
                <p>Длительность: <span id="vape-time">Y минут</span></p>
                <p>Дней до конца: <span id="days-left">Z</span></p>
            </div>
            <div id="plan-actions">
                <button id="start-vape" onclick="startVaping()">Начать парение</button>
                <button id="stop-vape" onclick="stopVaping()" class="hidden">Закончить сеанс</button>
                <button onclick="resetPlan()">Сорвался</button>
                <button onclick="editPlan()">Изменить план</button>
                <button onclick="showTips()">Советы</button>
            </div>
            <div id="frozen-overlay" class="hidden"><p>До начала курса: <span id="days-to-start"></span> дней</p></div>
        </div>

        <div id="tips-section" class="hidden">
            <h2>Советы</h2>
            <p>1. Если хочется парить, выпей воды — отвлечёт.</p>
            <p>2. Жуй жвачку, чтобы занять руки и рот.</p>
            <p>3. Прогуляйся, чтобы снять напряжение.</p>
            <p>4. Дыши глубже, чтобы успокоиться.</p>
            <p>5. Слушай музыку или играй на телефоне.</p>
            <p>6. Попробуй жидкость с никотином на 3-6 мг меньше.</p>
            <p>7. Поставь таймер на телефон, если сайт неудобен.</p>
            <p>Твой прогресс — уже сила!</p>
            <button onclick="backToPlan()">Назад</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
